Gemini Api & OpenAPI outperforms the offline models , but it still needs some prompt engineering and fine tuning for better performance
PaddleOCR does have problem need to fix it
tesseract is too bad as an OCR engine
For NOW the best OCR engine is easyocr but it is still stupid
Okay the PaddleOCR Works with the english , but the arabic stuggles with the spacing so there is a module that can know arabic words it would make it work well (i've searched from my part i found farasa library but it need some configuration will try it later)
 
Doing : 
Trying to return a rotated images to their original form
this code might help : 
import cv2
import numpy as np

def deskew(image):
    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
    edges = cv2.Canny(gray, 50, 150, apertureSize = 3)
    lines = cv2.HoughLines(edges, 1, np.pi / 180, 200)

    if lines is not None:
        angles = []
        for rho, theta in lines[:, 0]:
            angle = np.degrees(theta)
            angles.append(angle)

        # Calculate skew angle (mode or mean)
        if angles:
          skew_angle = np.median(angles) # or np.mean(angles)
          (h, w) = image.shape[:2]
          center = (w // 2, h // 2)
          rotation_matrix = cv2.getRotationMatrix2D(center, skew_angle, 1.0)
          rotated_image = cv2.warpAffine(image, rotation_matrix, (w, h), flags=cv2.INTER_CUBIC, borderMode=cv2.BORDER_REPLICATE)

          return rotated_image
        else:
            return image # No lines detected, return original image
    else:
        return image # No lines detected, return original image

# Example usage:
image = cv2.imread('skewed_image.jpg')
deskewed_image = deskew(image)

cv2.imwrite('deskewed_image.jpg', deskewed_image)

################### Prompt ##########################
"This image is a scanned page from an official Arabic school textbook. It may contain exercises, lessons, poetry, diagrams, or mixed content."

            "You are capable of understanding Arabic, French, and English, and can process a variety of input types such as scanned documents, textbook images, phone photos, PDFs, or handwritten materials."

            "### Your Task:"
            "Extract the text **exactly as it appears in the original document**, without translating, paraphrasing, or completing missing parts. If a part is unreadable, write: `[Unreadable text]`."

            "Preserve all **layout and structure**, including:"
            "- **Text direction**: Arabic must remain in right-to-left (RTL) order."
            "- **Line spacing and indentation**: Reflect line breaks and paragraph spacing accurately."
            "- **Text alignment**:"
            "- Use `<div align='center'> ... </div>` for centered text"
            "- Use `<div align='right'> ... </div>` for right-aligned text"
            "- Use `<div align='left'> ... </div>` for left-aligned text"

            "### Markdown Formatting Rules:"
            "Use Markdown (and simple HTML for alignment) with the following structure:"
            "- Titles → `## Title`"
            "- Subtitles → `### Subtitle`"
            "- Exercises → Bold label (e.g., `**Exercise 1:**`)"
            "- Subquestions → Markdown list format (e.g., `- a)`, `- b)`)"
            "- Poetry or long quotes → Markdown blockquote (`>`)"
            "- Diagrams or images → Write a placeholder like `![Description of diagram]`"

            "### Additional Guidelines:"
            "- Maintain clean spacing between lines"
            "- Insert two blank lines between major sections"
            "- Do not include any commentary, explanations, or additional descriptions"

            "### Output:"
            "Return only the extracted text in **markdown format**, using HTML `<div>` blocks only for alignment purposes."
            "You Should be able to read table and preserver it is format."
            "also if x items in the same line u should preseve it is format do not make each item in a line "
            "You Should preserve the layout of the page don't mess with it without any creativity or any hilucination"
            "you can use Html elments to maintain the same layouts " 
